# Cleanquirer

![draft](https://img.shields.io/badge/stability-draft-lightgrey.svg?style=flat-square)

![Branch : master](https://img.shields.io/badge/Branch-master-blue.svg)
[![version](https://img.shields.io/badge/version-0.0.0-blue.svg)](https://github.com/AlexisTessier/cleanquirer#readme)
[![npm version](https://badge.fury.io/js/cleanquirer.svg)](https://badge.fury.io/js/cleanquirer)

[![Build Status](https://travis-ci.org/AlexisTessier/cleanquirer.svg?branch=master)](https://travis-ci.org/AlexisTessier/cleanquirer)
[![Coverage Status](https://coveralls.io/repos/AlexisTessier/cleanquirer/badge.svg?branch=master&service=github)](https://coveralls.io/github/AlexisTessier/cleanquirer?branch=master)

[![Dependency Status](https://david-dm.org/AlexisTessier/cleanquirer.svg)](https://david-dm.org/AlexisTessier/cleanquirer)
[![devDependency Status](https://david-dm.org/AlexisTessier/cleanquirer/dev-status.svg)](https://david-dm.org/AlexisTessier/cleanquirer#info=devDependencies)

Create a cli tool from a documented javascript API

-   [Introduction](#introduction)
-   [Get started](#get-started)
-   [Documentation](#documentation)
-   [License](#license)

## Introduction

This module provides a way to easily generate node CLI modules, eventually using files documented with [documentation.js](http://documentation.js.org/).

## Get started

### Create and use a simple CLI

First, implement one or more commands with documentation using the following pattern (one file for each command):

```javascript
// path/to/command/file.js

/**
 * @name my-cli-command
 */
function cliCommand({
    option,
    option2 = 'default-value'
} = {}){
    // do some asynchronous stuffs
}

module.exports = cliCommand
```

Now, you have to create a cli function using cleanquirer:

```javascript
// path/to/cli-function.js

const path = require('path');

const cleanquirer = require('cleanquirer');

module.exports = cleanquirer({
    name: 'cli-name',
    commands: [
        path.join(__dirname, 'path/to/command/file.js'),
        path.join(__dirname, 'path/to/other/command/file.js'),
        path.join(__dirname, 'glob/matching/multiple/commands/file/*.js')
    ]
})
```

You can use the exported function to call methods of the cli api directly in javascript

```javascript
// path/to/a/file.js

const myCli = require('path/to/cli-function.js');

myCli(['my-cli-command', 'option="option value"']).then(()=>{
    // do stuffs after the command was executed
})
```

Then you just have to create a bin file which will do the link between myCli and the terminal input

```javascript
path/to/bin/myCli
#!/usr/bin/env node

'use strict';

require('path/to/cli-function.js')(process.argv.slice(2));
```

And fill the bin field in your module package.json

    // package.json
    "bin": {
      "cli-name": "path/to/bin/myCli"
    }

## Documentation

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## License

cleanquirer is released under [MIT](http://opensource.org/licenses/MIT). 
Copyright (c) 2017-present [Alexis Tessier](https://github.com/AlexisTessier)
